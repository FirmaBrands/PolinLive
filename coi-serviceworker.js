// coi-serviceworker.js
/*! coi-serviceworker v0.1.7 | MIT | https://github.com/gzuidhof/coi-serviceworker */
if(typeof window==="undefined"){self.addEventListener("install",()=>self.skipWaiting());self.addEventListener("activate",e=>e.waitUntil(self.clients.claim()));self.addEventListener("fetch",e=>{if(e.request.cache==="only-if-cached"&&e.request.mode!=="same-origin")return;e.respondWith(fetch(e.request).then(r=>{if(r.status===0)return r;const n=new Headers(r.headers);n.set("Cross-Origin-Embedder-Policy","require-corp");n.set("Cross-Origin-Opener-Policy","same-origin");return new Response(r.body,{status:r.status,statusText:r.statusText,headers:n})}).catch(e=>console.error(e)))})) }else{const n=document.createElement("script");n.src=document.currentScript.src;n.setAttribute("coi","");document.head.appendChild(n)}
